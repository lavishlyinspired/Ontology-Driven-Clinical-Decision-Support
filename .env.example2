# =============================================================================
# LCA System Configuration - Production Environment
# Generated: January 19, 2026
# =============================================================================

# -----------------------------------------------------------------------------
# Ollama LLM Configuration
# -----------------------------------------------------------------------------
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=llama3.2:latest

# Alternative models:
# OLLAMA_MODEL=mistral:latest
# OLLAMA_MODEL=mixtral:latest
# OLLAMA_MODEL=phi3:latest

# -----------------------------------------------------------------------------
# Ontology Paths
# -----------------------------------------------------------------------------
SNOMED_CT_PATH=H:\akash\git\CoherencePLM\Version22\data\lca_ontologies\snomed_ct\build_snonmed_owl\snomed_ct_optimized.owl
LOINC_PATH=H:\akash\git\CoherencePLM\Version22\data\lca_ontologies\loinc\Loinc_2.81
RXNORM_PATH=H:\akash\git\CoherencePLM\Version22\data\lca_ontologies\rxnorm\RxNorm_full_01052026
LUCADA_ONTOLOGY_OUTPUT=H:\akash\git\CoherencePLM\Version22\data\lca_ontologies\lucada
LUCADA_OWL_FILE=lucada_ontology.owl

# -----------------------------------------------------------------------------
# Neo4j Graph Database Configuration
# -----------------------------------------------------------------------------
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=password
NEO4J_DATABASE=lucada

# Neo4j Connection Pooling
NEO4J_MAX_CONNECTION_LIFETIME=3600
NEO4J_MAX_CONNECTION_POOL_SIZE=50
NEO4J_CONNECTION_ACQUISITION_TIMEOUT=60

# Vector Store (Neo4j-based)
NEO4J_VECTOR_INDEX=clinical_guidelines_vector

# -----------------------------------------------------------------------------
# Authentication & Authorization (JWT)
# -----------------------------------------------------------------------------
# IMPORTANT: Change these in production! Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET_KEY=CHANGE_THIS_IN_PRODUCTION_USE_LONG_RANDOM_STRING
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# Password Hashing
BCRYPT_ROUNDS=12

# -----------------------------------------------------------------------------
# Redis Cache & Message Queue
# -----------------------------------------------------------------------------
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=
REDIS_MAX_CONNECTIONS=50

# Celery Task Queue (for batch processing)
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=json
CELERY_TIMEZONE=UTC
CELERY_ENABLE_UTC=true

# -----------------------------------------------------------------------------
# WebSocket Configuration
# -----------------------------------------------------------------------------
WEBSOCKET_HOST=0.0.0.0
WEBSOCKET_PORT=8001
WEBSOCKET_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001
WEBSOCKET_MAX_CONNECTIONS=1000
WEBSOCKET_PING_INTERVAL=30
WEBSOCKET_PING_TIMEOUT=10

# -----------------------------------------------------------------------------
# FHIR Integration
# -----------------------------------------------------------------------------
# FHIR Server Base URL (e.g., HAPI FHIR, Azure FHIR, AWS HealthLake)
FHIR_SERVER_URL=http://localhost:8080/fhir
FHIR_VERSION=R4

# OAuth 2.0 Credentials (if FHIR server requires auth)
FHIR_CLIENT_ID=lca-system
FHIR_CLIENT_SECRET=CHANGE_THIS_IN_PRODUCTION
FHIR_TOKEN_URL=http://localhost:8080/oauth2/token

# FHIR Resource Mapping
FHIR_ENABLE_WEBHOOK=true
FHIR_WEBHOOK_SECRET=CHANGE_THIS_WEBHOOK_SECRET

# -----------------------------------------------------------------------------
# RAG (Retrieval-Augmented Generation) Configuration
# -----------------------------------------------------------------------------
# Embeddings Model (sentence-transformers)
EMBEDDINGS_MODEL=sentence-transformers/all-MiniLM-L6-v2
EMBEDDINGS_DEVICE=cpu
VECTOR_DIMENSION=384

# RAG Search Parameters
RAG_TOP_K=5
RAG_SIMILARITY_THRESHOLD=0.7
RAG_MAX_CONTEXT_LENGTH=4000

# -----------------------------------------------------------------------------
# Batch Processing Configuration
# -----------------------------------------------------------------------------
BATCH_QUEUE_MAX_SIZE=1000
BATCH_WORKER_COUNT=4
BATCH_JOB_TIMEOUT=3600
BATCH_RETRY_MAX=3
BATCH_RETRY_DELAY=60

# -----------------------------------------------------------------------------
# Human-in-the-Loop (HITL) Configuration
# -----------------------------------------------------------------------------
HITL_QUEUE_SIZE=500
HITL_REVIEW_TIMEOUT_DAYS=7
HITL_AUTO_APPROVE_CONFIDENCE=0.95
HITL_NOTIFICATIONS_ENABLED=true

# -----------------------------------------------------------------------------
# Audit Logging Configuration
# -----------------------------------------------------------------------------
AUDIT_LOG_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=2555  # 7 years for HIPAA compliance
AUDIT_LOG_EXPORT_FORMAT=json

# -----------------------------------------------------------------------------
# MCP Server Configuration
# -----------------------------------------------------------------------------
MCP_SERVER_PORT=3000
MCP_SERVER_HOST=localhost
MCP_SERVER_TIMEOUT=300

# -----------------------------------------------------------------------------
# API Server Configuration
# -----------------------------------------------------------------------------
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_RELOAD=false

# CORS Settings
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,PATCH
CORS_ALLOW_HEADERS=*

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_BURST=10

# -----------------------------------------------------------------------------
# Logging & Monitoring
# -----------------------------------------------------------------------------
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE_PATH=logs/lca_system.log
LOG_ROTATION_SIZE=100MB
LOG_RETENTION_DAYS=30

# Structured Logging
LOG_TO_CONSOLE=true
LOG_TO_FILE=true
LOG_TO_SENTRY=false

# Sentry Error Tracking (optional)
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1

# Prometheus Metrics
METRICS_ENABLED=true
METRICS_PORT=9090

# -----------------------------------------------------------------------------
# Version Management
# -----------------------------------------------------------------------------
GUIDELINE_VERSION_DEFAULT=2024.1
GUIDELINE_VERSION_AUTO_ROLLBACK=true
GUIDELINE_AB_TEST_ENABLED=true

# -----------------------------------------------------------------------------
# Analytics Configuration
# -----------------------------------------------------------------------------
ANALYTICS_SURVIVAL_MODEL=kaplan_meier
ANALYTICS_UNCERTAINTY_METHOD=monte_carlo
ANALYTICS_COUNTERFACTUAL_ENABLED=true
ANALYTICS_TRIAL_MATCHING_ENABLED=true

# ClinicalTrials.gov API
CLINICALTRIALS_API_KEY=
CLINICALTRIALS_API_URL=https://clinicaltrials.gov/api/v2

# -----------------------------------------------------------------------------
# Frontend Configuration
# -----------------------------------------------------------------------------
NEXT_PUBLIC_API_URL=http://localhost:8000
NEXT_PUBLIC_WS_URL=ws://localhost:8001
NEXT_PUBLIC_APP_NAME=Lung Cancer Assistant
NEXT_PUBLIC_APP_VERSION=2.0.0

# -----------------------------------------------------------------------------
# Security & Compliance
# -----------------------------------------------------------------------------
# HIPAA Compliance Mode
HIPAA_COMPLIANCE_ENABLED=true
PHI_ENCRYPTION_ENABLED=true
PHI_ENCRYPTION_KEY=CHANGE_THIS_32_BYTE_KEY_FOR_ENCRYPTION

# Session Security
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=strict

# -----------------------------------------------------------------------------
# Deployment Environment
# -----------------------------------------------------------------------------
ENVIRONMENT=development
DEBUG=false

# -----------------------------------------------------------------------------
# Database Backups
# -----------------------------------------------------------------------------
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_DESTINATION=/backups

# -----------------------------------------------------------------------------
# External Services
# -----------------------------------------------------------------------------
# Email Notifications (SMTP)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=noreply@lca-system.com

# Slack Notifications (optional)
SLACK_WEBHOOK_URL=
SLACK_CHANNEL=#lca-alerts
